// surface.h
// Trigon, 2025

#ifndef SURFACE_H
#define SURFACE_H

#include <stdio.h>
#include <device/device_types.h>
#include <mach/vm_map.h>

#define IOSURFACE_MAGIC 0x1EA5CACE
#define IOSURFACE_CREATE_OUTSIZE 0xF60

typedef io_object_t io_connect_t;
typedef io_object_t io_service_t;
typedef io_object_t io_registry_entry_t;

int iosurface_krw_init(uint64_t *task);
void iosurface_krw_deinit(void);

uint32_t kread32(uint64_t addr);
uint64_t kread64(uint64_t addr);
void kwrite64(uint64_t addr, uint64_t value);
void kwrite32(uint64_t addr, uint32_t value);

#endif // SURFACE_H
